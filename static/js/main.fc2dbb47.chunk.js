(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{16:function(t,e,n){"use strict";var c=n(1),r=Object(c.b)("contacts/addRequest"),o=Object(c.b)("contacts/addSuccess"),a=Object(c.b)("contacts/addError"),u=Object(c.b)("contacts/fetchRequest"),s=Object(c.b)("contacts/fetchSuccess"),i=Object(c.b)("contacts/fetchError"),b=Object(c.b)("contacts/removeRequest"),l=Object(c.b)("contacts/removeSuccess"),j=Object(c.b)("contacts/removeError"),g=Object(c.b)("contacts/filterRender");e.a={addContactError:a,addContactSuccess:o,addContactRequest:r,fetchContactsRequest:u,fetchContactsSuccess:s,fetchContactsError:i,removeContactsRequest:b,removeContactsSuccess:l,removeContactsError:j,filterRender:g}},18:function(t,e,n){"use strict";e.a={HomeView:"/",LoginView:"/login",RegisterView:"/register",ContactsView:"/contacts"}},24:function(t,e,n){"use strict";e.a={isAuthenticated:function(t){return t.auth.token},getUserName:function(t){return t.auth.user.name}}},26:function(t,e,n){"use strict";var c=n(15),r=n.n(c),o=n(4);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var a=function(t){r.a.defaults.headers.common.Authorization="Bearer ".concat(t)},u=function(){r.a.defaults.headers.common.Authorization=""};e.a={register:function(t){return function(e){e(o.a.registerRequest()),r.a.post("/users/signup",t).then((function(t){a(t.data.token),e(o.a.registerSuccess(t.data))})).catch((function(t){return e(o.a.registerError(t))}))}},logOut:function(){return function(t){t(o.a.logoutRequest()),r.a.post("/users/logout").then((function(){u(),t(o.a.logoutSuccess())})).catch((function(e){return t(o.a.logoutError(e))}))}},logIn:function(t){return function(e){e(o.a.loginRequest()),r.a.post("/users/login",t).then((function(t){a(t.data.token),e(o.a.loginSuccess(t.data))})).catch((function(t){return e(o.a.loginError(t))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(a(n),t(o.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(e){var n=e.data;return t(o.a.getCurrentUserSuccess(n))})).catch((function(t){return o.a.getCurrentUserError(t)})))}}}},4:function(t,e,n){"use strict";var c=n(1),r=Object(c.b)("auth/registerRequest"),o=Object(c.b)("auth/registerSuccess"),a=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/loginRequest"),s=Object(c.b)("auth/loginSuccess"),i=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),l=Object(c.b)("auth/logoutSuccess"),j=Object(c.b)("auth/logoutError"),g=Object(c.b)("auth/getCurrentUserRequest"),O=Object(c.b)("auth/getCurrentUserSuccess"),h=Object(c.b)("auth/getCurrentUserError");e.a={registerRequest:r,registerSuccess:o,registerError:a,logoutRequest:b,logoutSuccess:l,logoutError:j,loginRequest:u,loginSuccess:s,loginError:i,getCurrentUserRequest:g,getCurrentUserSuccess:O,getCurrentUserError:h}},53:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var c,r,o,a,u,s=n(3),i=n(0),b=n.n(i),l=n(25),j=n.n(l),g=(n(53),n(20)),O=n(21),h=n(23),d=n(22),f=n(33),p=n(6),m=n(17),C=n(18),y=n(24),S=n(26),v={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},R=Object(m.b)((function(t){return{name:y.a.getUserName(t),avatar:"https://static.vecteezy.com/system/resources/previews/000/611/223/non_2x/vector-funny-dog-logo-design-concept-template.jpg"}}),{onLogout:S.a.logOut})((function(t){var e=t.avatar,n=t.name,c=t.onLogout;return Object(s.jsxs)("div",{style:v.container,children:[Object(s.jsx)("img",{src:e,alt:"",width:"32",style:v.avatar}),Object(s.jsxs)("span",{style:v.name,children:["Welcome, ",n]}),Object(s.jsx)("button",{type:"button",onClick:c,children:"Logout"})]})})),x=n(44),E=n.n(x),k=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(g.a)(this,n),e.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return Object(s.jsx)(E.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),n}(b.a.Component),q=Object(i.lazy)((function(){return n.e(7).then(n.bind(null,107))})),U=Object(i.lazy)((function(){return n.e(5).then(n.bind(null,108))})),w=Object(i.lazy)((function(){return n.e(6).then(n.bind(null,109))})),z=Object(i.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,111))})),F=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(g.a)(this,n),e.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(f.a,{children:Object(s.jsxs)(i.Suspense,{fallback:Object(s.jsx)(k,{}),children:[this.props.isAuthenticated&&Object(s.jsx)(R,{}),Object(s.jsxs)(p.d,{children:[Object(s.jsx)(p.b,{exact:!0,path:C.a.HomeView,component:q}),Object(s.jsx)(p.b,{exact:!0,path:C.a.LoginView,component:U}),Object(s.jsx)(p.b,{path:C.a.RegisterView,component:w}),Object(s.jsx)(p.b,{path:C.a.ContactsView,component:z}),Object(s.jsx)(p.a,{to:"/"})]})]})})})}}]),n}(i.Component),L=Object(m.b)((function(t){return{isAuthenticated:y.a.isAuthenticated(t)}}),{onGetCurrentUser:S.a.getCurrentUser})(F),V=function(t){t&&t instanceof Function&&n.e(8).then(n.bind(null,110)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),r(t),o(t),a(t)}))},A=n(45),B=n(1),I=n(14),P=n(46),D=n.n(P),G=n(8),H=n(47),J=n(7),N=n(16),T=[],W="",M=Object(B.c)(T,(c={},Object(G.a)(c,N.a.addContactSuccess,(function(t,e){return[].concat(Object(H.a)(t),[e.payload])})),Object(G.a)(c,N.a.fetchContactsSuccess,(function(t,e){return e.payload})),Object(G.a)(c,N.a.removeContactsSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),_=Object(B.c)(W,Object(G.a)({},N.a.filterRender,(function(t,e){return e.payload}))),K=Object(B.c)(!1,(r={},Object(G.a)(r,N.a.addContactRequest,(function(){return!0})),Object(G.a)(r,N.a.addContactSuccess,(function(){return!1})),r)),Q=Object(J.c)({items:M,filter:_,loading:K}),X=n(4),Y={name:null,email:null},Z=Object(B.c)(Y,(o={},Object(G.a)(o,X.a.registerSuccess,(function(t,e){return e.payload.user})),Object(G.a)(o,X.a.loginSuccess,(function(t,e){return e.payload.user})),Object(G.a)(o,X.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(G.a)(o,X.a.logoutSuccess,(function(){return Y})),o)),$=Object(B.c)(null,(a={},Object(G.a)(a,X.a.registerSuccess,(function(t,e){return e.payload.token})),Object(G.a)(a,X.a.loginSuccess,(function(t,e){return e.payload.token})),Object(G.a)(a,X.a.logoutSuccess,(function(){return null})),a)),tt=Object(B.c)(null,(u={},Object(G.a)(u,X.a.registerError,(function(t,e){return e.payload})),Object(G.a)(u,X.a.loginError,(function(t,e){return e.payload})),Object(G.a)(u,X.a.logoutError,(function(t,e){return e.payload})),Object(G.a)(u,X.a.getCurrentUserError,(function(t,e){return e.payload})),u)),et=Object(J.c)({user:Z,token:$,error:tt}),nt={key:"auth",storage:D.a,whitelist:["token"]},ct=Object(B.a)({reducer:{contacts:Q,auth:Object(I.g)(nt,et)},middleware:Object(B.d)({serializableCheck:{ignoredActions:[I.a,I.f,I.b,I.c,I.d,I.e]}})}),rt=Object(I.h)(ct);console.log(ct.getState()),j.a.render(Object(s.jsx)(m.a,{store:ct,children:Object(s.jsx)(A.a,{loading:null,persistor:rt,children:Object(s.jsx)(L,{})})}),document.getElementById("root")),V()}},[[97,1,2]]]);
//# sourceMappingURL=main.fc2dbb47.chunk.js.map